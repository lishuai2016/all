# Redis缓存常见问题
1、缓存和数据库间数据一致性问题；
2、缓存击穿问题;
3、缓存雪崩问题;
4、缓存并发问题;




# 一、缓存击穿问题
缓存击穿表示恶意用户模拟请求很多缓存中不存在的数据，由于缓存中都没有，导致这些请求短时间内直接落在了数据库上，导致数据库异常

解决方案的话：
1、使用互斥锁排队
业界比价普遍的一种做法，即根据key获取value值为空时，锁上，从数据库中load数据后再释放锁。
若其它线程获取锁失败，则等待一段时间后重试。这里要注意，分布式环境中要使用分布式锁，单机的话用普通的锁（synchronized、Lock）就够了

2、布隆过滤器（推荐）


# 二、缓存雪崩问题
缓存在同一时间内大量键过期（失效），接着来的一大波请求瞬间都落在了数据库中导致连接异常。

解决方案：
1、也是像解决缓存穿透一样加锁排队，实现同上;
2、建立备份缓存，缓存A和缓存B，A设置超时时间，B不设值超时时间，先从A读缓存，A没有读B，并且更新A缓存和B缓存;

# 三、缓存并发问题

这里的并发指的是多个redis的client同时set key引起的并发问题。比较有效的解决方案就是把redis.set操作放在队列中使其串行化，
必须的一个一个执行，具体的代码就不上了，当然加锁也是可以的，








[Redis缓存穿透、缓存雪崩、redis并发问题分析](https://juejin.im/post/5b961172f265da0ab7198f4d)