## 工厂模式

### 问题
在面向对象编程中, 最通常的方法是一个 new 操作符产生一个对象实例,new 操作符就是用来构造对象实例的。
但是在一些情况下, new 操作符直接生成对象会带来一些问题。举例来说, 许多类型对象的创造需要一系列的步骤: 

- 你可能需要计算或取得对象的初始设置; 
- 选择生成哪个子对象实例; 
- 生成你需要的对象之前必须先生成一些辅助功能的对象。 

在这些情况,新对象的建立就是一个 “过程”，不仅是一个操作，像一部大机器中的一个齿轮传动。

### 解决
建立一个工厂来创建对象，不必关心构造对象实例的细节和复杂过程。

### 适用场景
- 有一组类似的对象需要创建
- 在编码时不能预见需要创建哪种类的实例
- 系统需要考虑扩展性，降低耦合度

### 分类
- 简单工厂模式
- 工厂方法模式
- 抽象工厂模式

### 区别
简单工厂模式是工厂方法模式的一种特例。

工厂方法模式只有一个抽象产品类，而抽象工厂模式有多个。   
工厂方法模式的具体工厂类只能创建一个具体产品类的实例，而抽象工厂模式可以创建多个。

#### 工厂方法模式
一个抽象产品类，可以派生出多个具体产品类。   
一个抽象工厂类，可以派生出多个具体工厂类。   
每个具体工厂类只能创建一个具体产品类的实例。

#### 抽象工厂模式
多个抽象产品类，每个抽象产品类可以派生出多个具体产品类。   
一个抽象工厂类，可以派生出多个具体工厂类。   
每个具体工厂类可以创建多个具体产品类的实例。

### 总结
无论是简单工厂模式，工厂方法模式，还是抽象工厂模式，他们都属于工厂模式，
在形式和特点上也是极为相似的，他们的最终目的都是为了解耦。
在使用时，我们不必去在意这个模式到底工厂方法模式还是抽象工厂模式，
因为他们之间的演变常常是令人琢磨不透的。经常你会发现，明明使用的工厂方法模式，
当新需求来临，稍加修改，加入了一个新方法后，由于类中的产品构成了不同等级结构中的产品族，
它就变成抽象工厂模式了；而对于抽象工厂模式，当减少一个方法使的提供的产品不再构成产品族
之后，它就演变成了工厂方法模式。所以，在使用工厂模式时，
只需要关心降低耦合度的目的是否达到了。

